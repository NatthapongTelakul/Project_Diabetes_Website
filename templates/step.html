{% extends "header.html" %}
{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/style-step.css') }}">
<div class="step-wrap">
  <h2>คำถามที่ {{ step }} / {{ total }}</h2>

  <div class="card">
    <div class="left">
      {% if image %}
        <img src="{{ url_for('static', filename='images/' + image) }}" alt="image step" />
      {% endif %}
    </div>
    <div class="right">
      <form method="POST">
        {{ form.hidden_tag() }}
        <div class="form-row">
          {# แสดงทุกฟิลด์ที่ไม่ใช่ submit/csrf #}
          {% for fname, field in form._fields.items() %}
            {% if fname != 'csrf_token' and fname != 'submit' %}
              <label>{{ field.label }}</label>
              <div class="input">
                {{ field() }}
                {% if field.errors %}
                  <div class="errors">
                    {% for e in field.errors %} <div>{{ e }}</div> {% endfor %}
                  </div>
                {% endif %}
              </div>
            {% endif %}
          {% endfor %}
        </div>

        <div class="actions">
          {% if step > 1 %}
            <a class="btn back" href="{{ url_for('predict_step', step=step-1) }}">ย้อนกลับ</a>
          {% endif %}
          {{ form.submit(class="btn next") }}
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}
