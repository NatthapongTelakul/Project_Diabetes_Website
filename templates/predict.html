{% extends "header.html" %}

{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/style-predict.css') }}">

<h1 class="">Diabetes Risk Assessment</h1>

<div class="page-layout">
    <!-- ฟอร์ม (ซ้าย) -->
    <div class="form-section">
        <form method="POST">
            {{ form.hidden_tag() }}

            <div class="form-field">{{ form.highbp.label }} คุณเคยได้รับการวินิจฉัยจากโรงพยาบาลว่ามีความดันโลหิตสูงหรือไม่ {{ form.highbp() }}</div>
            <div class="form-field">{{ form.highchol.label }} {{ form.highchol() }}</div>
            <div class="form-field">{{ form.heart.label }} {{ form.heart() }}</div>
            <div class="form-field">{{ form.diffwalk.label }} {{ form.diffwalk() }}</div>

            <div class="form-field">{{ form.height.label }} {{ form.height(size=5) }}</div>
            <div class="form-field">{{ form.weight.label }} {{ form.weight(size=5) }}</div>

            <div class="form-field">{{ form.genhlth.label }} {{ form.genhlth() }}</div>
            <div class="form-field">{{ form.physhlth.label }} {{ form.physhlth(size=5) }}</div>

            <div class="form-field">{{ form.age.label }} {{ form.age() }}</div>
            <div class="form-field">{{ form.model_choice.label }} {{ form.model_choice() }}</div>

            {{ form.submit() }}
        </form>
    </div>

    <!-- ผลการประเมิน (ขวา) -->
    <div class="result-section">
        {% if prediction is not none %}
            <h3>ผลการประเมิน</h3>
            ความน่าจะเป็น: <strong>{{ probability }}%</strong><br>
            คำตอบ: 
            {% if prediction == 1 %}
                <span style="color:red;"><strong>เป็นเบาหวาน (1)</strong></span>
            {% else %}
                <span style="color:green;"><strong>ไม่เป็นเบาหวาน (0)</strong></span>
            {% endif %}
        {% else %}
            <p><em>กรอกข้อมูลแล้วกด Submit เพื่อดูผลการประเมิน</em></p>
        {% endif %}
    </div>
</div>
{% endblock %}
